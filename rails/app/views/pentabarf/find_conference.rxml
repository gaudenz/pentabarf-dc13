xml = Builder::XmlMarkup.new(:indent=>1)

xml.div({:id=>:data}) do
  xml.fieldset do
    xml.label(local('find conference'))
    xml.form(:id=>:simple_search,:action=>url_for) do
      xml.input({:type=>:text,:name=>:find_conference_simple,:id=>:find_conference_simple})
      xml.label("Searching ...", {:id=>"search-indicator",:style=>"display:none"})
    end
  end
  xml.fieldset do
    xml.div({:id=>:results})
  end
end

xml.script( "new Form.Element.Observer('find_conference_simple', 0.2, function(element, value) { new Ajax.Updater('results', '/pentabarf/search_conference_simple/' + $('find_conference_simple').value , {asynchronous:true, evalScripts:false, onComplete:function(request){Element.hide('search-indicator');sortables_init()}, onLoading:function(request){Element.show('search-indicator')}, parameters:value});})", :type=>"text/javascript" )

