xml = Builder::XmlMarkup.new(:indent=>1)

xml.table do
  fields = [:title, :subtitle]
  xml.thead do
    xml.tr do
      fields.each do | field |
        xml.th( local(field) )
      end
    end
  end
  xml.tbody do
    @results.each do | event |
      xml.tr do
        fields.each do | field |
          xml.td do xml.a( event.send(field), {:href=>url_for(:action=>:event,:id=>event.event_id)}) end
        end
      end
    end
  end
end
